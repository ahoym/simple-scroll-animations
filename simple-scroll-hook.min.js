!function(t,e){"use strict";"function"==typeof define&&define.amd?define(e):"object"==typeof exports&&"object"==typeof module?module.exports=e():t.scrollHook=e()}(this,function(){"use strict";function t(){this.events={},this.positions=[]}return t.prototype.register=function(t,e){e=e||{};var i=e.position||t.offsetTop,n=e.initialStates||[],o=e.finalStates||[];return"string"==typeof n&&(n=[e.initialStates]),"string"==typeof o&&(o=[e.finalStates]),this.positions.push(i),this.events[i]={HTMLel:t,initialStates:n,finalStates:o},this},t.prototype.determineMin=function(){var t=this.positions;return this.min=0===t.length?null:Math.min.apply(null,t),this},t.prototype.transitionStates=function(t){for(var e=t.HTMLel.classList,i=0;i<t.initialStates.length;i++)e.remove(t.initialStates[i]);for(var n=0;n<t.finalStates.length;n++)e.add(t.finalStates[n])},t.prototype.transitionElements=function(){for(var t,e,i=window.pageYOffset+window.innerHeight,n=this.positions.length,o=0;n>o;o++)t=this.positions[o],i>=t&&(e=this.events[t],this.transitionStates(e),delete this.events[t],this.positions.splice(o,1),o-=1,this.determineMin())},t.prototype.start=function(){function t(){return e.min?void(window.pageYOffset+window.innerHeight<e.min||e.transitionElements()):(window.removeEventListener("DOMMouseScroll",t),void window.removeEventListener("mousewheel",t))}this.determineMin();var e=this;document.addEventListener("DOMContentLoaded",function i(){e.transitionElements(),document.removeEventListener("DOMContentLoaded",i)}),window.addEventListener("DOMMouseScroll",t),window.addEventListener("mousewheel",t)},new t});
